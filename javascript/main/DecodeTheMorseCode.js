// Source: https://www.codewars.com/kata/54b724efac3d5402db00065e

MORSE_CODE = {
    '-.-.--': '!',    '.-..-.': '"',    '...-..-': '$',
    '.-...' : '&',    '.----.': "'",    '-.--.'  : '(',
    '-.--.-': ')',    '.-.-.' : '+',    '--..--' : ',',
    '-....-': '-',    '.-.-.-': '.',    '-..-.'  : '/',
    '-----' : '0',    '.----' : '1',    '..---'  : '2',
    '...--' : '3',    '....-' : '4',    '.....'  : '5',
    '-....' : '6',    '--...' : '7',    '---..'  : '8',
    '----.' : '9',    '---...': ':',    '-.-.-.' : ';',
    '-...-' : '=',    '..--..': '?',    '.--.-.' : '@',
    '.-'    : 'A',    '-...'  : 'B',    '-.-.'   : 'C',
    '-..'   : 'D',    '.'     : 'E',    '..-.'   : 'F',
    '--.'   : 'G',    '....'  : 'H',    '..'     : 'I',
    '.---'  : 'J',    '-.-'   : 'K',    '.-..'   : 'L',
    '--'    : 'M',    '-.'    : 'N',    '---'    : 'O',
    '.--.'  : 'P',    '--.-'  : 'Q',    '.-.'    : 'R',
    '...'   : 'S',    '-'     : 'T',    '..-'    : 'U',
    '...-'  : 'V',    '.--'   : 'W',    '-..-'   : 'X',
    '-.--'  : 'Y',    '--..'  : 'Z',    '..--.-' : '_',
    '...---...': 'SOS'
};

function decode(morseCode) {
    const decodedWords = [];
    const words = morseCode.trim().split("   ");
    words.forEach(word => {
        const letters = word.split(" ").map(letter => MORSE_CODE[letter]);
        decodedWords.push(letters.join(""));
    })
    return decodedWords.join(" ");
}

module.exports = decode;
